<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="673.2px" preserveAspectRatio="none" style="width:889px;height:673px;background:#FFFFFF;" version="1.1" viewBox="0 0 889 673" width="889.6px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="22.4" x2="22.4" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="105.6" x2="105.6" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="174" x2="174" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="241.2" x2="241.2" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="328.2" x2="328.2" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="417.4" x2="417.4" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="481.8" x2="481.8" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="543.2" x2="543.2" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="604.2" x2="604.2" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="714.4" x2="714.4" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="801.2" x2="801.2" y1="15.648" y2="658.3219"/><line style="stroke:#181818;stroke-width:0.20000000000000004;stroke-dasharray:5.0,5.0;" x1="853.6" x2="853.6" y1="15.648" y2="658.3219"/><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="40.8" x="2" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="35.2" x="4.8" y="11.2176">SystemServer</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="40.8" x="2" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="35.2" x="4.8" y="667.1395">SystemServer</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.4" x="72.4" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="60.8" x="75.2" y="11.2176">WindowManagerService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.4" x="72.4" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="60.8" x="75.2" y="667.1395">WindowManagerService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="62.4" x="142.8" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="56.8" x="145.6" y="11.2176">WindowManagerPolicy</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="62.4" x="142.8" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="56.8" x="145.6" y="667.1395">WindowManagerPolicy</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="64" x="209.2" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58.4" x="212" y="11.2176">PhoneWindowManager</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="64" x="209.2" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58.4" x="212" y="667.1395">PhoneWindowManager</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="71.6" x="292.6" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="66" x="295.4" y="11.2176">KeyguardServiceDelegate</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="71.6" x="292.6" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="66" x="295.4" y="667.1395">KeyguardServiceDelegate</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="70.8" x="382.2" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="65.2" x="385" y="11.2176">KeyguardServiceWrapper</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="70.8" x="382.2" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="65.2" x="385" y="667.1395">KeyguardServiceWrapper</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="50" x="457" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="44.4" x="459.8" y="11.2176">IKeyguardService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="50" x="457" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="44.4" x="459.8" y="667.1395">IKeyguardService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="48.8" x="518.8" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="43.2" x="521.6" y="11.2176">KeyguardService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="48.8" x="518.8" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="43.2" x="521.6" y="667.1395">KeyguardService</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="63.6" x="572.6" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58" x="575.4" y="11.2176">KeyguardViewMediator</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="63.6" x="572.6" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58" x="575.4" y="667.1395">KeyguardViewMediator</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="88.8" x="670" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="83.2" x="672.8" y="11.2176">StatusBarKeyguardViewManager</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="88.8" x="670" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="83.2" x="672.8" y="667.1395">StatusBarKeyguardViewManager</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="30.4" x="786" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="24.8" x="788.8" y="11.2176">StatusBar</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="30.4" x="786" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="24.8" x="788.8" y="667.1395">StatusBar</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.8" x="820.4" y="2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="61.2" x="823.2" y="11.2176">KeyguardUpdateMonitor</text><rect fill="#E2E2F0" height="13.248" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.8" x="820.4" y="657.9219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="61.2" x="823.2" y="667.1395">KeyguardUpdateMonitor</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="39.2" y1="29.1498" y2="29.1498"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="39.2" x2="39.2" y1="29.1498" y2="34.3498"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.8" x2="39.2" y1="34.3498" y2="34.3498"/><polygon fill="#181818" points="26.8,32.7498,22.8,34.3498,26.8,35.9498,25.2,34.3498" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="25.2" y="27.2072">1</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="42" x="29.6" y="27.2072">main(),Zygote调用</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="39.2" y1="47.0516" y2="47.0516"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="39.2" x2="39.2" y1="47.0516" y2="52.2516"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.8" x2="39.2" y1="52.2516" y2="52.2516"/><polygon fill="#181818" points="26.8,50.6516,22.8,52.2516,26.8,53.8516,25.2,52.2516" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="25.2" y="45.109">2</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="10.4" x="29.6" y="45.109">run()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="39.2" y1="64.9533" y2="64.9533"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="39.2" x2="39.2" y1="64.9533" y2="70.1533"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.8" x2="39.2" y1="70.1533" y2="70.1533"/><polygon fill="#181818" points="26.8,68.5533,22.8,70.1533,26.8,71.7533,25.2,70.1533" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="25.2" y="63.0107">3</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="46" x="29.6" y="63.0107">startOtherServices()</text><polygon fill="#181818" points="100.8,81.2551,104.8,82.8551,100.8,84.4551,102.4,82.8551" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="103.2" y1="82.8551" y2="82.8551"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="25.2" y="80.9125">4</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="69.2" x="29.6" y="80.9125">new WindowManagerService()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="122.4" y1="95.5568" y2="95.5568"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="122.4" x2="122.4" y1="95.5568" y2="100.7568"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="106" x2="122.4" y1="100.7568" y2="100.7568"/><polygon fill="#181818" points="110,99.1568,106,100.7568,110,102.3568,108.4,100.7568" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="108.4" y="93.6143">5</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="30.4" x="112.8" y="93.6143">onInitReady()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="122.4" y1="113.4586" y2="113.4586"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="122.4" x2="122.4" y1="113.4586" y2="118.6586"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="106" x2="122.4" y1="118.6586" y2="118.6586"/><polygon fill="#181818" points="110,117.0586,106,118.6586,110,120.2586,108.4,118.6586" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="108.4" y="111.516">6</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="24.4" x="112.8" y="111.516">initPolicy()</text><polygon fill="#181818" points="169.2,129.7604,173.2,131.3604,169.2,132.9604,170.8,131.3604" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="171.6" y1="131.3604" y2="131.3604"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="108.4" y="129.4178">7</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="10" x="112.8" y="129.4178">init()</text><polygon fill="#181818" points="236.4,142.4621,240.4,144.0621,236.4,145.6621,238,144.0621" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="174" x2="238.8" y1="144.0621" y2="144.0621"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="176.8" y="142.1195">8</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="10" x="181.2" y="142.1195">init()</text><polygon fill="#181818" points="323.6,155.1639,327.6,156.7639,323.6,158.3639,325.2,156.7639" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="241.2" x2="326" y1="156.7639" y2="156.7639"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="2.8" x="244" y="154.8213">9</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="73.2" x="248.4" y="154.8213">new KeyguardServiceDelegate()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="122.4" y1="169.4656" y2="169.4656"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="122.4" x2="122.4" y1="169.4656" y2="174.6656"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="106" x2="122.4" y1="174.6656" y2="174.6656"/><polygon fill="#181818" points="110,173.0656,106,174.6656,110,176.2656,108.4,174.6656" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="108.4" y="167.523">10</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="35.2" x="115.6" y="167.523">systemReady()</text><polygon fill="#181818" points="169.2,185.7674,173.2,187.3674,169.2,188.9674,170.8,187.3674" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="171.6" y1="187.3674" y2="187.3674"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="108.4" y="185.4248">11</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="35.2" x="115.6" y="185.4248">systemReady()</text><polygon fill="#181818" points="236.4,198.4691,240.4,200.0691,236.4,201.6691,238,200.0691" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="174" x2="238.8" y1="200.0691" y2="200.0691"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="176.8" y="198.1266">12</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="35.2" x="184" y="198.1266">systemReady()</text><polygon fill="#181818" points="323.6,211.1709,327.6,212.7709,323.6,214.3709,325.2,212.7709" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="241.2" x2="326" y1="212.7709" y2="212.7709"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="244" y="210.8283">13</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="41.6" x="251.2" y="210.8283">onSystemReady()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="39.2" y1="225.4727" y2="225.4727"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="39.2" x2="39.2" y1="225.4727" y2="230.6727"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.8" x2="39.2" y1="230.6727" y2="230.6727"/><polygon fill="#181818" points="26.8,229.0727,22.8,230.6727,26.8,232.2727,25.2,230.6727" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="25.2" y="223.5301">14</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="36.4" x="32.4" y="223.5301">startSystemUi()</text><polygon fill="#181818" points="100.8,241.7744,104.8,243.3744,100.8,244.9744,102.4,243.3744" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="22.4" x2="103.2" y1="243.3744" y2="243.3744"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="25.2" y="241.4318">15</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48.4" x="32.4" y="241.4318">onSystemUiStarted()</text><polygon fill="#181818" points="169.2,254.4762,173.2,256.0762,169.2,257.6762,170.8,256.0762" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="105.6" x2="171.6" y1="256.0762" y2="256.0762"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="108.4" y="254.1336">16</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48.4" x="115.6" y="254.1336">onSystemUiStarted()</text><polygon fill="#181818" points="236.4,267.1779,240.4,268.7779,236.4,270.3779,238,268.7779" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="174" x2="238.8" y1="268.7779" y2="268.7779"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="176.8" y="266.8354">17</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="48.4" x="184" y="266.8354">onSystemUiStarted()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="241.2" x2="258" y1="281.4797" y2="281.4797"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="258" x2="258" y1="281.4797" y2="286.6797"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="241.6" x2="258" y1="286.6797" y2="286.6797"/><polygon fill="#181818" points="245.6,285.0797,241.6,286.6797,245.6,288.2797,244,286.6797" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="244" y="279.5371">18</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="34.8" x="251.2" y="279.5371">bindKeyguard()</text><polygon fill="#181818" points="323.6,297.7814,327.6,299.3814,323.6,300.9814,325.2,299.3814" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="241.2" x2="326" y1="299.3814" y2="299.3814"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="244" y="297.4389">19</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="29.6" x="251.2" y="297.4389">bindService()</text><polygon fill="#181818" points="412.8,310.4832,416.8,312.0832,412.8,313.6832,414.4,312.0832" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="328.4" x2="415.2" y1="312.0832" y2="312.0832"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="331.2" y="310.1406">20</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="72.4" x="338.4" y="310.1406">new KeyguardServiceWrapper()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="417.6" x2="434.4" y1="324.785" y2="324.785"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="434.4" x2="434.4" y1="324.785" y2="329.985"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="418" x2="434.4" y1="329.985" y2="329.985"/><polygon fill="#181818" points="422,328.385,418,329.985,422,331.585,420.4,329.985" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="420.4" y="322.8424">21</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="41.6" x="427.6" y="322.8424">onSystemReady()</text><polygon fill="#181818" points="477.2,341.0867,481.2,342.6867,477.2,344.2867,478.8,342.6867" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="417.6" x2="479.6" y1="342.6867" y2="342.6867"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="420.4" y="340.7441">22</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="41.6" x="427.6" y="340.7441">onSystemReady()</text><polygon fill="#181818" points="538.4,353.7885,542.4,355.3885,538.4,356.9885,540,355.3885" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="482" x2="540.8" y1="355.3885" y2="355.3885"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="484.8" y="353.4459">23</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="41.6" x="492" y="353.4459">onSystemReady()</text><polygon fill="#181818" points="599.6,366.4902,603.6,368.0902,599.6,369.6902,601.2,368.0902" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="543.2" x2="602" y1="368.0902" y2="368.0902"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="546" y="366.1477">24</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="41.6" x="553.2" y="366.1477">onSystemReady()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="380.792" y2="380.792"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="380.792" y2="385.992"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="385.992" y2="385.992"/><polygon fill="#181818" points="608.8,384.392,604.8,385.992,608.8,387.592,607.2,385.992" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="378.8494">25</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="97.2" x="614.4" y="378.8494">Handler.sendMessage(SYSTEM_READY)</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="398.6938" y2="398.6938"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="398.6938" y2="403.8938"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="403.8938" y2="403.8938"/><polygon fill="#181818" points="608.8,402.2938,604.8,403.8938,608.8,405.4938,607.2,403.8938" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="396.7512">26</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="51.2" x="614.4" y="396.7512">handleSystemReady()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="416.5955" y2="416.5955"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="416.5955" y2="421.7955"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="421.7955" y2="421.7955"/><polygon fill="#181818" points="608.8,420.1955,604.8,421.7955,608.8,423.3955,607.2,421.7955" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="414.6529">27</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="47.6" x="614.4" y="414.6529">doKeyguardLocked()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="434.4973" y2="434.4973"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="434.4973" y2="439.6973"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="439.6973" y2="439.6973"/><polygon fill="#181818" points="608.8,438.0973,604.8,439.6973,608.8,441.2973,607.2,439.6973" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="432.5547">28</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="32" x="614.4" y="432.5547">showLocked()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="452.399" y2="452.399"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="452.399" y2="457.599"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="457.599" y2="457.599"/><polygon fill="#181818" points="608.8,455.999,604.8,457.599,608.8,459.199,607.2,457.599" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="450.4564">29</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="71.2" x="614.4" y="450.4564">Handler.sendMessage(SHOW)</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="470.3008" y2="470.3008"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="470.3008" y2="475.5008"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="475.5008" y2="475.5008"/><polygon fill="#181818" points="608.8,473.9008,604.8,475.5008,608.8,477.1008,607.2,475.5008" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="468.3582">30</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="31.2" x="614.4" y="468.3582">handleShow()</text><polygon fill="#181818" points="709.6,486.6025,713.6,488.2025,709.6,489.8025,711.2,488.2025" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="712" y1="488.2025" y2="488.2025"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="486.26">31</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="15.2" x="614.4" y="486.26">show()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="714.4" x2="731.2" y1="500.9043" y2="500.9043"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="731.2" x2="731.2" y1="500.9043" y2="506.1043"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="714.8" x2="731.2" y1="506.1043" y2="506.1043"/><polygon fill="#181818" points="718.8,504.5043,714.8,506.1043,718.8,507.7043,717.2,506.1043" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="717.2" y="498.9617">32</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="14.8" x="724.4" y="498.9617">reset()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="714.4" x2="731.2" y1="518.8061" y2="518.8061"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="731.2" x2="731.2" y1="518.8061" y2="524.0061"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="714.8" x2="731.2" y1="524.0061" y2="524.0061"/><polygon fill="#181818" points="718.8,522.4061,714.8,524.0061,718.8,525.6061,717.2,524.0061" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="717.2" y="516.8635">33</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="62" x="724.4" y="516.8635">showBouncerOrKeyguard()</text><polygon fill="#181818" points="796.4,535.1078,800.4,536.7078,796.4,538.3078,798,536.7078" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="714.4" x2="798.8" y1="536.7078" y2="536.7078"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="717.2" y="534.7652">34</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="70" x="724.4" y="534.7652">showKeyguard()/showBouncer</text><polygon fill="#181818" points="849,547.8096,853,549.4096,849,551.0096,850.6,549.4096" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="851.4" y1="549.4096" y2="549.4096"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="547.467">35</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="40.4" x="614.4" y="547.467">registerCallback()</text><polygon fill="#181818" points="608.8,561.7113,604.8,563.3113,608.8,564.9113,607.2,563.3113" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:2.0,2.0;" x1="606.4" x2="853.4" y1="563.3113" y2="563.3113"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="611.2" y="561.3688">36</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="50.8" x="618.4" y="561.3688">onSimStateChanged()</text><path d="M401.6,554.6096 L401.6,565.4096 L602.4,565.4096 L602.4,558.6096 L598.4,554.6096 L401.6,554.6096 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.20000000000000004;"/><path d="M598.4,554.6096 L598.4,558.6096 L602.4,558.6096 L598.4,554.6096 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.20000000000000004;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="192.4" x="404" y="562.5688">Modem返回SIM卡状态,正常开机状态流转NOT_READY-&gt;PIN_REQUIRED-&gt;READY</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="621.2" y1="577.2131" y2="577.2131"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="621.2" x2="621.2" y1="577.2131" y2="582.4131"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.8" x2="621.2" y1="582.4131" y2="582.4131"/><polygon fill="#181818" points="608.8,580.8131,604.8,582.4131,608.8,584.0131,607.2,582.4131" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="575.2705">37</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="47.6" x="614.4" y="575.2705">doKeyguardLocked()</text><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="417.6" x2="434.4" y1="595.1148" y2="595.1148"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="434.4" x2="434.4" y1="595.1148" y2="600.3148"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="418" x2="434.4" y1="600.3148" y2="600.3148"/><polygon fill="#181818" points="422,598.7148,418,600.3148,422,601.9148,420.4,600.3148" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="420.4" y="593.1723">38</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="44.4" x="427.6" y="593.1723">onBootCompleted()</text><polygon fill="#181818" points="477.2,611.4166,481.2,613.0166,477.2,614.6166,478.8,613.0166" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="417.6" x2="479.6" y1="613.0166" y2="613.0166"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="420.4" y="611.074">39</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="44.4" x="427.6" y="611.074">onBootCompleted()</text><polygon fill="#181818" points="538.4,624.1184,542.4,625.7184,538.4,627.3184,540,625.7184" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="482" x2="540.8" y1="625.7184" y2="625.7184"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="484.8" y="623.7758">40</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="44.4" x="492" y="623.7758">onBootCompleted()</text><polygon fill="#181818" points="599.6,636.8201,603.6,638.4201,599.6,640.0201,601.2,638.4201" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="543.2" x2="602" y1="638.4201" y2="638.4201"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="546" y="636.4775">41</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="44.4" x="553.2" y="636.4775">onBootCompleted()</text><polygon fill="#181818" points="849,649.5219,853,651.1219,849,652.7219,850.6,651.1219" style="stroke:#181818;stroke-width:0.4000000000000001;"/><line style="stroke:#181818;stroke-width:0.4000000000000001;" x1="604.4" x2="851.4" y1="651.1219" y2="651.1219"/><text fill="#000000" font-family="sans-serif" font-size="5.2" font-weight="bold" lengthAdjust="spacing" textLength="5.6" x="607.2" y="649.1793">42</text><text fill="#000000" font-family="sans-serif" font-size="5.2" lengthAdjust="spacing" textLength="58.4" x="614.4" y="649.1793">dispatchBootCompleted()</text><!--MD5=[9f83405a2f2da4b331e8a8d1586fdf13]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

SystemServer -> SystemServer: main(),Zygote调用
SystemServer -> SystemServer:run()
SystemServer -> SystemServer:startOtherServices()
SystemServer -> WindowManagerService:new WindowManagerService()
WindowManagerService -> WindowManagerService:onInitReady()
WindowManagerService -> WindowManagerService:initPolicy()
WindowManagerService -> WindowManagerPolicy:init()
WindowManagerPolicy -> PhoneWindowManager:init()
PhoneWindowManager -> KeyguardServiceDelegate:new KeyguardServiceDelegate()

WindowManagerService -> WindowManagerService:systemReady()
WindowManagerService -> WindowManagerPolicy:systemReady()
WindowManagerPolicy -> PhoneWindowManager:systemReady()
PhoneWindowManager -> KeyguardServiceDelegate:onSystemReady()

SystemServer -> SystemServer:startSystemUi()
SystemServer -> WindowManagerService:onSystemUiStarted()
WindowManagerService -> WindowManagerPolicy:onSystemUiStarted()
WindowManagerPolicy -> PhoneWindowManager:onSystemUiStarted()
PhoneWindowManager -> PhoneWindowManager:bindKeyguard()
PhoneWindowManager -> KeyguardServiceDelegate:bindService()
KeyguardServiceDelegate -> KeyguardServiceWrapper:new KeyguardServiceWrapper()
KeyguardServiceWrapper -> KeyguardServiceWrapper:onSystemReady()
KeyguardServiceWrapper -> IKeyguardService:onSystemReady()
IKeyguardService -> KeyguardService:onSystemReady()
KeyguardService -> KeyguardViewMediator:onSystemReady()
KeyguardViewMediator -> KeyguardViewMediator:Handler.sendMessage(SYSTEM_READY)
KeyguardViewMediator -> KeyguardViewMediator:handleSystemReady()
KeyguardViewMediator -> KeyguardViewMediator:doKeyguardLocked()
KeyguardViewMediator -> KeyguardViewMediator:showLocked()
KeyguardViewMediator -> KeyguardViewMediator:Handler.sendMessage(SHOW)
KeyguardViewMediator -> KeyguardViewMediator:handleShow()
KeyguardViewMediator -> StatusBarKeyguardViewManager:show()
StatusBarKeyguardViewManager -> StatusBarKeyguardViewManager:reset()
StatusBarKeyguardViewManager -> StatusBarKeyguardViewManager:showBouncerOrKeyguard()
StatusBarKeyguardViewManager -> StatusBar:showKeyguard()/showBouncer

KeyguardViewMediator -> KeyguardUpdateMonitor:registerCallback()
KeyguardUpdateMonitor - -> KeyguardViewMediator:onSimStateChanged()
note left
Modem返回SIM卡状态,正常开机状态流转NOT_READY->PIN_REQUIRED->READY
end note
KeyguardViewMediator -> KeyguardViewMediator:doKeyguardLocked()

KeyguardServiceWrapper -> KeyguardServiceWrapper:onBootCompleted()
KeyguardServiceWrapper -> IKeyguardService:onBootCompleted()
IKeyguardService -> KeyguardService:onBootCompleted()
KeyguardService -> KeyguardViewMediator:onBootCompleted()
KeyguardViewMediator -> KeyguardUpdateMonitor:dispatchBootCompleted()





@enduml

@startuml

autonumber

SystemServer -> SystemServer: main(),Zygote调用
SystemServer -> SystemServer:run()
SystemServer -> SystemServer:startOtherServices()
SystemServer -> WindowManagerService:new WindowManagerService()
WindowManagerService -> WindowManagerService:onInitReady()
WindowManagerService -> WindowManagerService:initPolicy()
WindowManagerService -> WindowManagerPolicy:init()
WindowManagerPolicy -> PhoneWindowManager:init()
PhoneWindowManager -> KeyguardServiceDelegate:new KeyguardServiceDelegate()

WindowManagerService -> WindowManagerService:systemReady()
WindowManagerService -> WindowManagerPolicy:systemReady()
WindowManagerPolicy -> PhoneWindowManager:systemReady()
PhoneWindowManager -> KeyguardServiceDelegate:onSystemReady()

SystemServer -> SystemServer:startSystemUi()
SystemServer -> WindowManagerService:onSystemUiStarted()
WindowManagerService -> WindowManagerPolicy:onSystemUiStarted()
WindowManagerPolicy -> PhoneWindowManager:onSystemUiStarted()
PhoneWindowManager -> PhoneWindowManager:bindKeyguard()
PhoneWindowManager -> KeyguardServiceDelegate:bindService()
KeyguardServiceDelegate -> KeyguardServiceWrapper:new KeyguardServiceWrapper()
KeyguardServiceWrapper -> KeyguardServiceWrapper:onSystemReady()
KeyguardServiceWrapper -> IKeyguardService:onSystemReady()
IKeyguardService -> KeyguardService:onSystemReady()
KeyguardService -> KeyguardViewMediator:onSystemReady()
KeyguardViewMediator -> KeyguardViewMediator:Handler.sendMessage(SYSTEM_READY)
KeyguardViewMediator -> KeyguardViewMediator:handleSystemReady()
KeyguardViewMediator -> KeyguardViewMediator:doKeyguardLocked()
KeyguardViewMediator -> KeyguardViewMediator:showLocked()
KeyguardViewMediator -> KeyguardViewMediator:Handler.sendMessage(SHOW)
KeyguardViewMediator -> KeyguardViewMediator:handleShow()
KeyguardViewMediator -> StatusBarKeyguardViewManager:show()
StatusBarKeyguardViewManager -> StatusBarKeyguardViewManager:reset()
StatusBarKeyguardViewManager -> StatusBarKeyguardViewManager:showBouncerOrKeyguard()
StatusBarKeyguardViewManager -> StatusBar:showKeyguard()/showBouncer

KeyguardViewMediator -> KeyguardUpdateMonitor:registerCallback()
KeyguardUpdateMonitor - -> KeyguardViewMediator:onSimStateChanged()
note left
Modem返回SIM卡状态,正常开机状态流转NOT_READY->PIN_REQUIRED->READY
end note
KeyguardViewMediator -> KeyguardViewMediator:doKeyguardLocked()

KeyguardServiceWrapper -> KeyguardServiceWrapper:onBootCompleted()
KeyguardServiceWrapper -> IKeyguardService:onBootCompleted()
IKeyguardService -> KeyguardService:onBootCompleted()
KeyguardService -> KeyguardViewMediator:onBootCompleted()
KeyguardViewMediator -> KeyguardUpdateMonitor:dispatchBootCompleted()





@enduml

PlantUML version 1.2022.12(Mon Oct 24 02:12:26 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>